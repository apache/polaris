#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#

# Configuration common to ALL unit tests (executed with "test" profile â€“ Gradle "test" tasks).
# Per-test specific configuration should use QuarkusTestProfile

quarkus.datasource.devservices.enabled=false
quarkus.keycloak.devservices.enabled=false

quarkus.log.level=ERROR
quarkus.log.file.enable=false
quarkus.console.color=true

# Useful loggers for debugging purposes.
# quarkus.log.category."org.apache.polaris".level=INFO
# quarkus.log.category."org.apache.iceberg".level=INFO
# quarkus.log.category."io.quarkus.http.access-log".level=INFO
# quarkus.log.category."org.apache.hc.client5.http".level=INFO
# quarkus.log.category."org.apache.polaris.test.commons.keycloak".level=DEBUG
# quarkus.log.category."io.quarkus.oidc".level=DEBUG

# Silence a few verbose loggers that are not useful for unit tests.
quarkus.log.category."org.apache.polaris.core.persistence.transactional.TransactionalMetaStoreManagerImpl".level=ERROR
quarkus.log.category."org.apache.iceberg.rest.auth.AuthManagers".level=ERROR
quarkus.log.category."org.apache.iceberg.rest.auth.OAuth2Manager".level=ERROR

# Prevent the 'Hibernate Validator does not support constraints on static methods yet.' warning log messages on
# code generated by the OpenAPI generator. The warning can only be silenced via a log level setting.
# See https://github.com/quarkusio/quarkus/blob/15f6b4426512c04a54e7a0bd87f894fabe068c07/extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/MethodValidatedAnnotationsTransformer.java#L51-L53
# and how the 'LOGGER' is set up.
quarkus.log.category."io.quarkus.hibernate.validator.deployment".level=ERROR

# Silence the FJP warning, nothing we can do about it.
# See https://github.com/quarkusio/quarkus/blob/15f6b4426512c04a54e7a0bd87f894fabe068c07/core/deployment/src/main/java/io/quarkus/runner/bootstrap/ForkJoinClassLoading.java#L41-L42
quarkus.log.category."io.quarkus.runner.bootstrap.ForkJoinClassLoading".level=FATAL

# Prevent the 'The Agroal dependency is present but no JDBC datasources have been defined.' build-time warning.
# See https://github.com/quarkusio/quarkus/blob/2fbc20f445fad43aaf4f3f984b9ac8319c7c7f0a/extensions/agroal/deployment/src/main/java/io/quarkus/agroal/deployment/AgroalProcessor.java#L111
quarkus.log.category."io.quarkus.agroal.deployment".level=ERROR

