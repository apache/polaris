# .env
# Default environment variables for Polaris Minio S3 example

# Minio Root Credentials (used by minio service and mc script)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# Minio S3 User Credentials (created by mc script, used by services)
POLARIS_S3_USER=polaris_s3_user
POLARIS_S3_PASSWORD=polaris_s3_password_val

SPARK_MINIO_S3_USER=spark_minio_s3_user
SPARK_MINIO_S3_PASSWORD=spark_minio_s3_password_val

TRINO_MINIO_S3_USER=trino_minio_s3_user
TRINO_MINIO_S3_PASSWORD=trino_minio_s3_password_val

# Polaris Client Credentials (for Spark & Trino to auth to Polaris)
# These are used by:
# - polaris-bootstrap-minio (command to create them)
# - polaris-setup-governance (environment for script to know client IDs, and to create credentials if bootstrap doesn't)
# - spark-sql-minio (environment for Spark's Polaris catalog auth)
# - trino-minio (environment for Trino's Polaris catalog auth)
SPARK_POLARIS_CLIENT_ID=spark_app_client
SPARK_POLARIS_CLIENT_SECRET=spark_client_secret_val

TRINO_POLARIS_CLIENT_ID=trino_app_client
TRINO_POLARIS_CLIENT_SECRET=trino_client_secret_val

# These specific _ENV suffixed versions are referenced by the spark-sql-minio service environment block
# Setting them explicitly here to match the defaults and avoid Docker Compose warnings.
SPARK_POLARIS_CLIENT_ID_ENV=spark_app_client
SPARK_POLARIS_CLIENT_SECRET_ENV=spark_client_secret_val

# --- Polaris Service Specific Configuration ---
POLARIS_PERSISTENCE_TYPE=in-memory
POLARIS_REALM_CONTEXT_REALMS=POLARIS_MINIO_REALM
POLARIS_BOOTSTRAP_CREDENTIALS="POLARIS_MINIO_REALM,root,s3cr3t" # Custom root credentials for the realm
# --- Other Quarkus and Port Mappings for Services ---
QUARKUS_OTEL_SDK_DISABLED=true # For polaris service

# Port Mappings (defaults used in docker-compose.yml)
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
POSTGRES_MINIO_PORT=5433
POLARIS_MINIO_API_PORT=8183
POLARIS_MINIO_MGMT_PORT=8184 # Important for health check

SPARK_UI_MINIO_START_PORT=4050
SPARK_UI_MINIO_END_PORT=4055 # Used in port range mapping

TRINO_MINIO_PORT=8083

# Quarkus HTTP/Management ports for Polaris Service (can reference variables above)
QUARKUS_HTTP_PORT=${POLARIS_MINIO_API_PORT}
QUARKUS_MANAGEMENT_PORT=${POLARIS_MINIO_MGMT_PORT}

# --- Optional: Debug Logging for Polaris Service (uncomment if needed) ---
# QUARKUS_LOG_CONSOLE_LEVEL=DEBUG
# QUARKUS_LOG_CATEGORY_IO_SMALLRYE_CONFIG_LEVEL=DEBUG
# QUARKUS_LOG_CATEGORY_ORG_APACHE_POLARIS_LEVEL=DEBUG
# QUARKUS_LOG_CATEGORY_IO_QUARKUS_DATASOURCE_LEVEL=DEBUG
# QUARKUS_LOG_CATEGORY_ORG_AGROAL_LEVEL=DEBUG
